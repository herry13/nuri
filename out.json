{
  "Object": {
    "_self": "Object",
    "_context": "class"
  },
  "Machine": {
    "_self": "Machine",
    "_context": "class",
    "running": false,
    "nuri_latest": false,
    "upgrade_nuri": {
      "_self": "upgrade_nuri",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.nuri_latest": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.nuri_latest"
        },
        "_self": "_effect"
      }
    },
    "start": {
      "_self": "start",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "stop": {
      "_self": "stop",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    }
  },
  "Service": {
    "_self": "Service",
    "_context": "class",
    "installed": false,
    "running": false,
    "port": 0,
    "install": {
      "_self": "install",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "uninstall": {
      "_self": "uninstall",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "start": {
      "_self": "start",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "stop": {
      "_self": "stop",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "set_port": {
      "_self": "set_port",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.port": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.target",
          "_self": "$.this.port"
        },
        "_self": "_effect"
      },
      "target": {
        "_context": "null",
        "_isa": "$.Integer",
        "_self": "target"
      }
    }
  },
  "Apache": {
    "_self": "Apache",
    "_context": "class",
    "_extends": "$.Service",
    "port": 80,
    "document_root": "/var/www",
    "php_module": false,
    "php_mysql_module": false,
    "set_document_root": {
      "_self": "set_document_root",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.document_root": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.target",
          "_self": "$.this.document_root"
        },
        "_self": "_effect"
      },
      "target": {
        "_context": "null",
        "_isa": "$.String",
        "_self": "target"
      }
    },
    "uninstall": {
      "_self": "uninstall",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "$.this.php_module": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.php_module"
        },
        "$.this.php_mysql_module": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.php_mysql_module"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "install_php_module": {
      "_self": "install_php_module",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.php_module": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.php_module"
        },
        "_self": "_effect"
      }
    },
    "uninstall_php_module": {
      "_self": "uninstall_php_module",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.php_module": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.php_module"
        },
        "_self": "_effect"
      }
    },
    "install_php_mysql_module": {
      "_self": "install_php_mysql_module",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.php_module": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.php_module"
        },
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.php_mysql_module": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.php_mysql_module"
        },
        "_self": "_effect"
      }
    },
    "uninstall_php_mysql_module": {
      "_self": "uninstall_php_mysql_module",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.php_mysql_module": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.php_mysql_module"
        },
        "_self": "_effect"
      }
    },
    "installed": false,
    "running": false,
    "install": {
      "_self": "install",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "start": {
      "_self": "start",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "stop": {
      "_self": "stop",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "set_port": {
      "_self": "set_port",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.port": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.target",
          "_self": "$.this.port"
        },
        "_self": "_effect"
      },
      "target": {
        "_context": "null",
        "_isa": "$.Integer",
        "_self": "target"
      }
    },
    "_super": [
      "$.Service"
    ]
  },
  "Mysql": {
    "_self": "Mysql",
    "_context": "class",
    "_extends": "$.Service",
    "port": 3306,
    "root_password": "",
    "set_root_password": {
      "_self": "set_root_password",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.root_password": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.passwd",
          "_self": "$.this.root_password"
        },
        "_self": "_effect"
      },
      "passwd": {
        "_context": "null",
        "_isa": "$.String",
        "_self": "passwd"
      }
    },
    "installed": false,
    "running": false,
    "install": {
      "_self": "install",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "uninstall": {
      "_self": "uninstall",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "start": {
      "_self": "start",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "stop": {
      "_self": "stop",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.running": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_effect"
      }
    },
    "set_port": {
      "_self": "set_port",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "$.this.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.port": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.target",
          "_self": "$.this.port"
        },
        "_self": "_effect"
      },
      "target": {
        "_context": "null",
        "_isa": "$.Integer",
        "_self": "target"
      }
    },
    "_super": [
      "$.Service"
    ]
  },
  "Tikidb": {
    "_self": "Tikidb",
    "_context": "class",
    "installed": false,
    "db_name": "tikiwiki",
    "db_user": "tiki",
    "db_password": "tikipassword",
    "tikiweb": {
      "_context": "null",
      "_isa": "$.Tikiweb",
      "_self": "tikiweb"
    },
    "database": {
      "_context": "null",
      "_isa": "$.Mysql",
      "_self": "database"
    },
    "set_tikiweb": {
      "_self": "set_tikiweb",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.tikiweb": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.web",
          "_self": "$.this.tikiweb"
        },
        "_self": "_effect"
      },
      "web": {
        "_context": "null",
        "_isa": "$.Tikiweb",
        "_self": "web"
      }
    },
    "install": {
      "_self": "install",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.user": {
          "_context": "constraint",
          "_type": "not-equals",
          "_value": "",
          "_self": "$.user"
        },
        "$.passwd": {
          "_context": "constraint",
          "_type": "not-equals",
          "_value": "",
          "_self": "$.passwd"
        },
        "$.db": {
          "_context": "constraint",
          "_type": "not-equals",
          "_value": "",
          "_self": "$.db"
        },
        "$.this.tikiweb.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.tikiweb.installed"
        },
        "$.this.database.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.database.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      },
      "user": {
        "_context": "null",
        "_isa": "$.String",
        "_self": "user"
      },
      "passwd": {
        "_context": "null",
        "_isa": "$.String",
        "_self": "passwd"
      },
      "db": {
        "_context": "null",
        "_isa": "$.String",
        "_self": "db"
      }
    },
    "uninstall": {
      "_self": "uninstall",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.tikiweb.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.tikiweb.installed"
        },
        "$.this.database.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.database.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    }
  },
  "Tikiweb": {
    "_self": "Tikiweb",
    "_context": "class",
    "installed": false,
    "path": "/wiki",
    "webserver": {
      "_context": "null",
      "_isa": "$.Apache",
      "_self": "webserver"
    },
    "database": {
      "_context": "null",
      "_isa": "$.Mysql",
      "_self": "database"
    },
    "set_path": {
      "_self": "set_path",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.path": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.path",
          "_self": "$.this.path"
        },
        "_self": "_effect"
      },
      "path": {
        "_context": "null",
        "_isa": "$.String",
        "_self": "path"
      }
    },
    "set_webserver": {
      "_self": "set_webserver",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.webserver": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.ws",
          "_self": "$.this.webserver"
        },
        "_self": "_effect"
      },
      "ws": {
        "_context": "null",
        "_isa": "$.Apache",
        "_self": "ws"
      }
    },
    "set_database": {
      "_self": "set_database",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.database": {
          "_context": "mutation",
          "_type": "equals",
          "_value": "$.db",
          "_self": "$.this.database"
        },
        "_self": "_effect"
      },
      "db": {
        "_context": "null",
        "_isa": "$.Mysql",
        "_self": "db"
      }
    },
    "install": {
      "_self": "install",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.webserver": {
          "_context": "constraint",
          "_type": "not-equals",
          "_value": {
            "_context": "null",
            "_isa": null,
            "_self": "_value"
          },
          "_self": "$.this.webserver"
        },
        "$.this.webserver.installed": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.webserver.installed"
        },
        "$.this.webserver.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.webserver.running"
        },
        "$.this.webserver.php_module": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.webserver.php_module"
        },
        "$.this.webserver.php_mysql_module": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.webserver.php_mysql_module"
        },
        "$.this.database": {
          "_context": "constraint",
          "_type": "not-equals",
          "_value": {
            "_context": "null",
            "_isa": null,
            "_self": "_value"
          },
          "_self": "$.this.database"
        },
        "$.this.database.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.database.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": true,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    },
    "uninstall": {
      "_self": "uninstall",
      "_context": "procedure",
      "_cost": 1,
      "_condition": {
        "_context": "constraint",
        "_type": "and",
        "$.this.webserver.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.webserver.running"
        },
        "_self": "_condition"
      },
      "_effect": {
        "_context": "mutation",
        "_type": "and",
        "$.this.installed": {
          "_context": "mutation",
          "_type": "equals",
          "_value": false,
          "_self": "$.this.installed"
        },
        "_self": "_effect"
      }
    }
  },
  "goal": {
    "_self": "goal",
    "_context": "constraint",
    "_type": "and",
    "$.hpvm17.apache.running": {
      "_context": "constraint",
      "_type": "equals",
      "_value": true,
      "_self": "$.hpvm17.apache.running"
    },
    "$.hpvm17.apache.port": {
      "_context": "constraint",
      "_type": "equals",
      "_value": 80,
      "_self": "$.hpvm17.apache.port"
    },
    "$.hpvm17.apache.php_module": {
      "_context": "constraint",
      "_type": "equals",
      "_value": true,
      "_self": "$.hpvm17.apache.php_module"
    },
    "$.hpvm17.apache.php_mysql_module": {
      "_context": "constraint",
      "_type": "equals",
      "_value": true,
      "_self": "$.hpvm17.apache.php_mysql_module"
    },
    "$.hpvm17.apache.document_root": {
      "_context": "constraint",
      "_type": "equals",
      "_value": "/var/www",
      "_self": "$.hpvm17.apache.document_root"
    },
    "$.hpvm17.tikiweb.installed": {
      "_context": "constraint",
      "_type": "equals",
      "_value": true,
      "_self": "$.hpvm17.tikiweb.installed"
    },
    "$.hpvm17.tikiweb.path": {
      "_context": "constraint",
      "_type": "equals",
      "_value": "/wiki",
      "_self": "$.hpvm17.tikiweb.path"
    },
    "$.hpvm17.tikiweb.webserver": {
      "_context": "constraint",
      "_type": "equals",
      "_value": "$.hpvm17.apache",
      "_self": "$.hpvm17.tikiweb.webserver"
    },
    "$.hpvm17.tikiweb.database": {
      "_context": "constraint",
      "_type": "equals",
      "_value": "$.hpvm16.mysql",
      "_self": "$.hpvm17.tikiweb.database"
    },
    "$.hpvm16.mysql.running": {
      "_context": "constraint",
      "_type": "equals",
      "_value": true,
      "_self": "$.hpvm16.mysql.running"
    },
    "$.hpvm16.mysql.root_password": {
      "_context": "constraint",
      "_type": "equals",
      "_value": "root",
      "_self": "$.hpvm16.mysql.root_password"
    }
  },
  "global": {
    "_self": "global",
    "_context": "constraint",
    "_type": "and",
    "c0": {
      "_context": "constraint",
      "_type": "or",
      "c1": {
        "_context": "constraint",
        "_type": "not",
        "$.hpvm17.apache.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.hpvm17.apache.running"
        },
        "_self": "c1"
      },
      "c2": {
        "_context": "constraint",
        "_type": "and",
        "$.hpvm16.mysql.running": {
          "_context": "constraint",
          "_type": "equals",
          "_value": true,
          "_self": "$.hpvm16.mysql.running"
        },
        "_self": "c2"
      },
      "_self": "c0"
    }
  },
  "initial": {
    "_context": "state",
    "_self": "initial",
    "hpvm16": {
      "_self": "hpvm16",
      "_context": "object",
      "running": true,
      "nuri_latest": true,
      "upgrade_nuri": {
        "_self": "upgrade_nuri",
        "_context": "procedure",
        "_cost": 1,
        "_condition": {
          "_context": "constraint",
          "_type": "and",
          "_self": "_condition"
        },
        "_effect": {
          "_context": "mutation",
          "_type": "and",
          "$.this.nuri_latest": {
            "_context": "mutation",
            "_type": "equals",
            "_value": true,
            "_self": "$.this.nuri_latest"
          },
          "_self": "_effect"
        }
      },
      "start": {
        "_self": "start",
        "_context": "procedure",
        "_cost": 1,
        "_condition": {
          "_context": "constraint",
          "_type": "and",
          "_self": "_condition"
        },
        "_effect": {
          "_context": "mutation",
          "_type": "and",
          "$.this.running": {
            "_context": "mutation",
            "_type": "equals",
            "_value": true,
            "_self": "$.this.running"
          },
          "_self": "_effect"
        }
      },
      "stop": {
        "_self": "stop",
        "_context": "procedure",
        "_cost": 1,
        "_condition": {
          "_context": "constraint",
          "_type": "and",
          "_self": "_condition"
        },
        "_effect": {
          "_context": "mutation",
          "_type": "and",
          "$.this.running": {
            "_context": "mutation",
            "_type": "equals",
            "_value": false,
            "_self": "$.this.running"
          },
          "_self": "_effect"
        }
      },
      "_isa": "$.Machine",
      "_classes": [
        "$.Machine"
      ],
      "memory_total": 503456,
      "memory_free": 131872,
      "os": "linux",
      "platform": "ubuntu",
      "hostname": "hpvm16",
      "domainname": "hpvm16.inf.ed.ac.uk",
      "version": "3.2.0-25-generic",
      "arch": "x86_64",
      "cpus": 1,
      "tikiweb": {
        "_self": "tikiweb",
        "_context": "object",
        "installed": false,
        "path": "/wiki",
        "webserver": {
          "_context": "null",
          "_isa": "$.Apache",
          "_self": "webserver"
        },
        "database": {
          "_context": "null",
          "_isa": "$.Mysql",
          "_self": "database"
        },
        "set_path": {
          "_self": "set_path",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.path": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.path",
              "_self": "$.this.path"
            },
            "_self": "_effect"
          },
          "path": {
            "_context": "null",
            "_isa": "$.String",
            "_self": "path"
          }
        },
        "set_webserver": {
          "_self": "set_webserver",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.webserver": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.ws",
              "_self": "$.this.webserver"
            },
            "_self": "_effect"
          },
          "ws": {
            "_context": "null",
            "_isa": "$.Apache",
            "_self": "ws"
          }
        },
        "set_database": {
          "_self": "set_database",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.database": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.db",
              "_self": "$.this.database"
            },
            "_self": "_effect"
          },
          "db": {
            "_context": "null",
            "_isa": "$.Mysql",
            "_self": "db"
          }
        },
        "install": {
          "_self": "install",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.webserver": {
              "_context": "constraint",
              "_type": "not-equals",
              "_value": {
                "_context": "null",
                "_isa": null,
                "_self": "_value"
              },
              "_self": "$.this.webserver"
            },
            "$.this.webserver.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.webserver.installed"
            },
            "$.this.webserver.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.webserver.running"
            },
            "$.this.webserver.php_module": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.webserver.php_module"
            },
            "$.this.webserver.php_mysql_module": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.webserver.php_mysql_module"
            },
            "$.this.database": {
              "_context": "constraint",
              "_type": "not-equals",
              "_value": {
                "_context": "null",
                "_isa": null,
                "_self": "_value"
              },
              "_self": "$.this.database"
            },
            "$.this.database.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.database.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "uninstall": {
          "_self": "uninstall",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.webserver.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.webserver.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "_isa": "$.Tikiweb",
        "_classes": [
          "$.Tikiweb"
        ]
      },
      "tikidb": {
        "_self": "tikidb",
        "_context": "object",
        "installed": false,
        "db_name": "tikiwiki",
        "db_user": "tiki",
        "db_password": "tikipassword",
        "tikiweb": {
          "_context": "null",
          "_isa": "$.Tikiweb",
          "_self": "tikiweb"
        },
        "database": {
          "_context": "null",
          "_isa": "$.Mysql",
          "_self": "database"
        },
        "set_tikiweb": {
          "_self": "set_tikiweb",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.tikiweb": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.web",
              "_self": "$.this.tikiweb"
            },
            "_self": "_effect"
          },
          "web": {
            "_context": "null",
            "_isa": "$.Tikiweb",
            "_self": "web"
          }
        },
        "install": {
          "_self": "install",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.user": {
              "_context": "constraint",
              "_type": "not-equals",
              "_value": "",
              "_self": "$.user"
            },
            "$.passwd": {
              "_context": "constraint",
              "_type": "not-equals",
              "_value": "",
              "_self": "$.passwd"
            },
            "$.db": {
              "_context": "constraint",
              "_type": "not-equals",
              "_value": "",
              "_self": "$.db"
            },
            "$.this.tikiweb.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.tikiweb.installed"
            },
            "$.this.database.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.database.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          },
          "user": {
            "_context": "null",
            "_isa": "$.String",
            "_self": "user"
          },
          "passwd": {
            "_context": "null",
            "_isa": "$.String",
            "_self": "passwd"
          },
          "db": {
            "_context": "null",
            "_isa": "$.String",
            "_self": "db"
          }
        },
        "uninstall": {
          "_self": "uninstall",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.tikiweb.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.tikiweb.installed"
            },
            "$.this.database.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.database.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "_isa": "$.Tikidb",
        "_classes": [
          "$.Tikidb"
        ]
      },
      "apache": {
        "_self": "apache",
        "_context": "object",
        "_extends": "$.Service",
        "port": 0,
        "document_root": "/var/www",
        "php_module": false,
        "php_mysql_module": false,
        "set_document_root": {
          "_self": "set_document_root",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.document_root": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.target",
              "_self": "$.this.document_root"
            },
            "_self": "_effect"
          },
          "target": {
            "_context": "null",
            "_isa": "$.String",
            "_self": "target"
          }
        },
        "uninstall": {
          "_self": "uninstall",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "$.this.php_module": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.php_module"
            },
            "$.this.php_mysql_module": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.php_mysql_module"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "install_php_module": {
          "_self": "install_php_module",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.php_module": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.php_module"
            },
            "_self": "_effect"
          }
        },
        "uninstall_php_module": {
          "_self": "uninstall_php_module",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.php_module": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.php_module"
            },
            "_self": "_effect"
          }
        },
        "install_php_mysql_module": {
          "_self": "install_php_mysql_module",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.php_module": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.php_module"
            },
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.php_mysql_module": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.php_mysql_module"
            },
            "_self": "_effect"
          }
        },
        "uninstall_php_mysql_module": {
          "_self": "uninstall_php_mysql_module",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.php_mysql_module": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.php_mysql_module"
            },
            "_self": "_effect"
          }
        },
        "installed": false,
        "running": false,
        "install": {
          "_self": "install",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "start": {
          "_self": "start",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.running": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.running"
            },
            "_self": "_effect"
          }
        },
        "stop": {
          "_self": "stop",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.running": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_effect"
          }
        },
        "set_port": {
          "_self": "set_port",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.port": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.target",
              "_self": "$.this.port"
            },
            "_self": "_effect"
          },
          "target": {
            "_context": "null",
            "_isa": "$.Integer",
            "_self": "target"
          }
        },
        "_isa": "$.Apache",
        "_classes": [
          "$.Service",
          "$.Apache"
        ],
        "version": "",
        "docment_root": ""
      },
      "mysql": {
        "_self": "mysql",
        "_context": "object",
        "_extends": "$.Service",
        "port": 3306,
        "root_password": "root",
        "set_root_password": {
          "_self": "set_root_password",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.root_password": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.passwd",
              "_self": "$.this.root_password"
            },
            "_self": "_effect"
          },
          "passwd": {
            "_context": "null",
            "_isa": "$.String",
            "_self": "passwd"
          }
        },
        "installed": true,
        "running": true,
        "install": {
          "_self": "install",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "uninstall": {
          "_self": "uninstall",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.installed": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.installed"
            },
            "_self": "_effect"
          }
        },
        "start": {
          "_self": "start",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.running": {
              "_context": "mutation",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.running"
            },
            "_self": "_effect"
          }
        },
        "stop": {
          "_self": "stop",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.running": {
              "_context": "mutation",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_effect"
          }
        },
        "set_port": {
          "_self": "set_port",
          "_context": "procedure",
          "_cost": 1,
          "_condition": {
            "_context": "constraint",
            "_type": "and",
            "$.this.installed": {
              "_context": "constraint",
              "_type": "equals",
              "_value": true,
              "_self": "$.this.installed"
            },
            "$.this.running": {
              "_context": "constraint",
              "_type": "equals",
              "_value": false,
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_context": "mutation",
            "_type": "and",
            "$.this.port": {
              "_context": "mutation",
              "_type": "equals",
              "_value": "$.target",
              "_self": "$.this.port"
            },
            "_self": "_effect"
          },
          "target": {
            "_context": "null",
            "_isa": "$.Integer",
            "_self": "target"
          }
        },
        "_isa": "$.Mysql",
        "_classes": [
          "$.Service",
          "$.Mysql"
        ],
        "version": "5.5.24-0ubuntu0.12.04.1"
      }
    },
    "hpvm17": {
      "running": true,
      "platform": "ubuntu",
      "start": {
        "_cost": 1,
        "_self": "start",
        "_condition": {
          "_type": "and",
          "_context": "constraint",
          "_self": "_condition"
        },
        "_effect": {
          "_type": "and",
          "$.this.running": {
            "_value": true,
            "_type": "equals",
            "_context": "mutation",
            "_self": "$.this.running"
          },
          "_context": "mutation",
          "_self": "_effect"
        },
        "_context": "procedure"
      },
      "os": "linux",
      "cpus": 1,
      "mysql": {
        "installed": false,
        "running": false,
        "port": 3306,
        "_extends": "$.Service",
        "start": {
          "_cost": 1,
          "_self": "start",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "_context": "mutation",
            "$.this.running": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.running"
            },
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "set_port": {
          "_cost": 1,
          "_self": "set_port",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.port": {
              "_value": "$.target",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.port"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure",
          "target": {
            "_isa": "$.Integer",
            "_context": "null",
            "_self": "target"
          }
        },
        "_self": "mysql",
        "version": "",
        "root_password": "",
        "install": {
          "_cost": 1,
          "_self": "install",
          "_condition": {
            "_type": "and",
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "uninstall": {
          "_cost": 1,
          "_self": "uninstall",
          "_condition": {
            "_type": "and",
            "_context": "constraint",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "_classes": [
          "$.Service",
          "$.Mysql"
        ],
        "stop": {
          "_cost": 1,
          "_self": "stop",
          "_condition": {
            "_type": "and",
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "_context": "mutation",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.running"
            },
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "set_root_password": {
          "_cost": 1,
          "passwd": {
            "_isa": "$.String",
            "_context": "null",
            "_self": "passwd"
          },
          "_self": "set_root_password",
          "_condition": {
            "_type": "and",
            "$.this.running": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "$.this.root_password": {
              "_value": "$.passwd",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.root_password"
            },
            "_type": "and",
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "_isa": "$.Mysql",
        "_context": "object"
      },
      "tikidb": {
        "installed": false,
        "db_user": "tiki",
        "database": {
          "_isa": "$.Mysql",
          "_context": "null",
          "_self": "database"
        },
        "db_name": "tikiwiki",
        "tikiweb": {
          "_isa": "$.Tikiweb",
          "_context": "null",
          "_self": "tikiweb"
        },
        "db_password": "tikipassword",
        "_self": "tikidb",
        "uninstall": {
          "_cost": 1,
          "_self": "uninstall",
          "_condition": {
            "$.this.tikiweb.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.tikiweb.installed"
            },
            "_type": "and",
            "$.this.database.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.database.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "install": {
          "_cost": 1,
          "passwd": {
            "_isa": "$.String",
            "_context": "null",
            "_self": "passwd"
          },
          "_self": "install",
          "_condition": {
            "$.passwd": {
              "_value": "",
              "_type": "not-equals",
              "_context": "constraint",
              "_self": "$.passwd"
            },
            "$.this.tikiweb.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.tikiweb.installed"
            },
            "_type": "and",
            "$.this.database.running": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.database.running"
            },
            "$.db": {
              "_value": "",
              "_type": "not-equals",
              "_context": "constraint",
              "_self": "$.db"
            },
            "$.user": {
              "_value": "",
              "_type": "not-equals",
              "_context": "constraint",
              "_self": "$.user"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "db": {
            "_isa": "$.String",
            "_context": "null",
            "_self": "db"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "user": {
            "_isa": "$.String",
            "_context": "null",
            "_self": "user"
          },
          "_context": "procedure"
        },
        "set_tikiweb": {
          "_cost": 1,
          "_self": "set_tikiweb",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.tikiweb": {
              "_value": "$.web",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.tikiweb"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "web": {
            "_isa": "$.Tikiweb",
            "_context": "null",
            "_self": "web"
          },
          "_context": "procedure"
        },
        "_classes": [
          "$.Tikidb"
        ],
        "_isa": "$.Tikidb",
        "_context": "object"
      },
      "_self": "hpvm17",
      "memory_total": 503456,
      "version": "3.2.0-25-generic",
      "tikiweb": {
        "installed": true,
        "webserver": "$.hpvm17.apache",
        "set_webserver": {
          "_cost": 1,
          "ws": {
            "_isa": "$.Apache",
            "_context": "null",
            "_self": "ws"
          },
          "_self": "set_webserver",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "$.this.webserver": {
              "_value": "$.ws",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.webserver"
            },
            "_type": "and",
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "database": "$.hpvm16.mysql",
        "_self": "tikiweb",
        "uninstall": {
          "_cost": 1,
          "_self": "uninstall",
          "_condition": {
            "$.this.webserver.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.webserver.running"
            },
            "_type": "and",
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "install": {
          "_cost": 1,
          "_self": "install",
          "_condition": {
            "$.this.webserver.php_mysql_module": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.webserver.php_mysql_module"
            },
            "$.this.webserver.php_module": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.webserver.php_module"
            },
            "$.this.webserver.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.webserver.installed"
            },
            "$.this.webserver.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.webserver.running"
            },
            "$.this.database": {
              "_value": {
                "_isa": null,
                "_context": "null",
                "_self": "_value"
              },
              "_type": "not-equals",
              "_context": "constraint",
              "_self": "$.this.database"
            },
            "$.this.webserver": {
              "_value": {
                "_isa": null,
                "_context": "null",
                "_self": "_value"
              },
              "_type": "not-equals",
              "_context": "constraint",
              "_self": "$.this.webserver"
            },
            "_type": "and",
            "$.this.database.running": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.database.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "_classes": [
          "$.Tikiweb"
        ],
        "set_path": {
          "_cost": 1,
          "_self": "set_path",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "$.this.path": {
              "_value": "$.path",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.path"
            },
            "_type": "and",
            "_context": "mutation",
            "_self": "_effect"
          },
          "path": {
            "_isa": "$.String",
            "_context": "null",
            "_self": "path"
          },
          "_context": "procedure"
        },
        "_isa": "$.Tikiweb",
        "set_database": {
          "_cost": 1,
          "_self": "set_database",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "db": {
            "_isa": "$.Mysql",
            "_context": "null",
            "_self": "db"
          },
          "_effect": {
            "$.this.database": {
              "_value": "$.db",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.database"
            },
            "_type": "and",
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "path": "/wiki",
        "_context": "object"
      },
      "nuri_latest": true,
      "arch": "x86_64",
      "hostname": "hpvm17",
      "upgrade_nuri": {
        "_cost": 1,
        "_self": "upgrade_nuri",
        "_condition": {
          "_type": "and",
          "_context": "constraint",
          "_self": "_condition"
        },
        "_effect": {
          "$.this.nuri_latest": {
            "_value": true,
            "_type": "equals",
            "_context": "mutation",
            "_self": "$.this.nuri_latest"
          },
          "_type": "and",
          "_context": "mutation",
          "_self": "_effect"
        },
        "_context": "procedure"
      },
      "_classes": [
        "$.Machine"
      ],
      "memory_free": 54840,
      "stop": {
        "_cost": 1,
        "_self": "stop",
        "_condition": {
          "_type": "and",
          "_context": "constraint",
          "_self": "_condition"
        },
        "_effect": {
          "_type": "and",
          "$.this.running": {
            "_value": false,
            "_type": "equals",
            "_context": "mutation",
            "_self": "$.this.running"
          },
          "_context": "mutation",
          "_self": "_effect"
        },
        "_context": "procedure"
      },
      "_isa": "$.Machine",
      "domainname": "hpvm17.inf.ed.ac.uk",
      "_context": "object",
      "apache": {
        "installed": true,
        "running": false,
        "port": 80,
        "_extends": "$.Service",
        "start": {
          "_cost": 1,
          "_self": "start",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "_context": "mutation",
            "$.this.running": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.running"
            },
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "set_port": {
          "_cost": 1,
          "_self": "set_port",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "_context": "constraint",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.port": {
              "_value": "$.target",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.port"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure",
          "target": {
            "_isa": "$.Integer",
            "_context": "null",
            "_self": "target"
          }
        },
        "document_root": "/var/www",
        "_self": "apache",
        "version": "2.2.22-1ubuntu1",
        "install_php_mysql_module": {
          "_cost": 1,
          "_self": "install_php_mysql_module",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "$.this.php_module": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.php_module"
            },
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "$.this.php_mysql_module": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.php_mysql_module"
            },
            "_type": "and",
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "php_mysql_module": true,
        "install": {
          "_cost": 1,
          "_self": "install",
          "_condition": {
            "_type": "and",
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "install_php_module": {
          "_cost": 1,
          "_self": "install_php_module",
          "_condition": {
            "_type": "and",
            "$.this.installed": {
              "_value": true,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.installed"
            },
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.php_module": {
              "_value": true,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.php_module"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "uninstall": {
          "_cost": 1,
          "_self": "uninstall",
          "_condition": {
            "$.this.php_mysql_module": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.php_mysql_module"
            },
            "_type": "and",
            "$.this.php_module": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.php_module"
            },
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.installed": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.installed"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "set_document_root": {
          "_cost": 1,
          "_self": "set_document_root",
          "_condition": {
            "_type": "and",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.document_root": {
              "_value": "$.target",
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.document_root"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "target": {
            "_isa": "$.String",
            "_context": "null",
            "_self": "target"
          },
          "_context": "procedure"
        },
        "uninstall_php_mysql_module": {
          "_cost": 1,
          "_self": "uninstall_php_mysql_module",
          "_condition": {
            "_type": "and",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "$.this.php_mysql_module": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.php_mysql_module"
            },
            "_type": "and",
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "php_module": true,
        "_classes": [
          "$.Service",
          "$.Apache"
        ],
        "uninstall_php_module": {
          "_cost": 1,
          "_self": "uninstall_php_module",
          "_condition": {
            "_type": "and",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "constraint",
              "_self": "$.this.running"
            },
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "$.this.php_module": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.php_module"
            },
            "_context": "mutation",
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "stop": {
          "_cost": 1,
          "_self": "stop",
          "_condition": {
            "_type": "and",
            "_context": "constraint",
            "_self": "_condition"
          },
          "_effect": {
            "_type": "and",
            "_context": "mutation",
            "$.this.running": {
              "_value": false,
              "_type": "equals",
              "_context": "mutation",
              "_self": "$.this.running"
            },
            "_self": "_effect"
          },
          "_context": "procedure"
        },
        "_isa": "$.Apache",
        "_context": "object"
      }
    }
  }
}
