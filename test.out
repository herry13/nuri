--- variables
$.hpvm16|$.Machine|$.hpvm16|-|final
	[$.hpvm16]
$.hpvm16.running|$.Boolean|true|-|notfinal
	[true,false]
$.hpvm16.nuri_latest|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.memory_total|$.Integer|503456|-|notfinal
	[503456]
$.hpvm16.memory_free|$.Integer|123188|-|notfinal
	[123188]
$.hpvm16.os|$.String|linux|-|notfinal
	[linux]
$.hpvm16.platform|$.String|ubuntu|-|notfinal
	[ubuntu]
$.hpvm16.hostname|$.String|hpvm16|-|notfinal
	[hpvm16]
$.hpvm16.domainname|$.String|hpvm16.diy.inf.ed.ac.uk|-|notfinal
	[hpvm16.diy.inf.ed.ac.uk]
$.hpvm16.version|$.String|3.2.0-25-generic|-|notfinal
	[3.2.0-25-generic]
$.hpvm16.arch|$.String|x86_64|-|notfinal
	[x86_64]
$.hpvm16.cpus|$.Integer|1|-|notfinal
	[1]
$.hpvm16.tikiweb|$.Tikiweb|$.hpvm16.tikiweb|-|final
	[$.hpvm16.tikiweb]
$.hpvm16.tikiweb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.tikiweb.path|$.String|/wiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.tikiweb.webserver|$.Apache|null|-|notfinal
	[null,$.hpvm16.apache,$.hpvm17.apache,$.hpvm20.apache]
$.hpvm16.tikiweb.database|$.Tikidb|null|-|notfinal
	[null,$.hpvm16.tikidb,$.hpvm17.tikidb,$.hpvm20.tikidb]
$.hpvm16.tikidb|$.Tikidb|$.hpvm16.tikidb|-|final
	[$.hpvm16.tikidb]
$.hpvm16.tikidb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.tikidb.db_name|$.String|tikiwiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.tikidb.db_user|$.String|tiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.tikidb.db_password|$.String|tikipassword|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.tikidb.tikiweb|($.Tikiweb)|[]|-|notfinal
	[,[],["$.hpvm17.tikiweb"]]
$.hpvm16.tikidb.database|$.Mysql|null|-|notfinal
	[null,$.hpvm16.mysql,$.hpvm17.mysql,$.hpvm20.mysql]
$.hpvm16.apachelb|$.Apachelb|$.hpvm16.apachelb|-|final
	[$.hpvm16.apachelb]
$.hpvm16.apachelb.port|$.Integer|80|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm16.apachelb.members|($.String)|[]|-|notfinal
	[,[],["http://hpvm17.diy.inf.ed.ac.uk"]]
$.hpvm16.apachelb.server_name|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.apachelb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.apachelb.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.apachelb.version|$.String||-|notfinal
	[]
$.hpvm16.apache|$.Apache|$.hpvm16.apache|-|final
	[$.hpvm16.apache]
$.hpvm16.apache.port|$.Integer|0|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm16.apache.document_root|$.String|/var/www|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.apache.php_module|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.apache.php_mysql_module|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.apache.server_name|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.apache.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.apache.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.apache.version|$.String||-|notfinal
	[]
$.hpvm16.apache.docment_root|$.String||-|notfinal
	[]
$.hpvm16.mysql|$.Mysql|$.hpvm16.mysql|-|final
	[$.hpvm16.mysql]
$.hpvm16.mysql.port|$.Integer|3306|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm16.mysql.root_password|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm16.mysql.public|$.Boolean|true|-|notfinal
	[true,false]
$.hpvm16.mysql.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.mysql.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm16.mysql.version|$.String||-|notfinal
	[]
$.hpvm17|$.Machine|$.hpvm17|-|final
	[$.hpvm17]
$.hpvm17.running|$.Boolean|true|-|notfinal
	[true,false]
$.hpvm17.hostname|$.String|hpvm17|-|notfinal
	[hpvm17]
$.hpvm17.arch|$.String|x86_64|-|notfinal
	[x86_64]
$.hpvm17.cpus|$.Integer|1|-|notfinal
	[1]
$.hpvm17.platform|$.String|ubuntu|-|notfinal
	[ubuntu]
$.hpvm17.apache|$.Apache|$.hpvm17.apache|-|final
	[$.hpvm17.apache]
$.hpvm17.apache.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.apache.document_root|$.String|/var/www|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.apache.docment_root|$.String||-|notfinal
	[]
$.hpvm17.apache.php_mysql_module|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.apache.php_module|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.apache.port|$.Integer|0|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm17.apache.version|$.String||-|notfinal
	[]
$.hpvm17.apache.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.apache.server_name|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.apachelb|$.Apachelb|$.hpvm17.apachelb|-|final
	[$.hpvm17.apachelb]
$.hpvm17.apachelb.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.apachelb.members|($.String)|[]|-|notfinal
	[,[],["http://hpvm17.diy.inf.ed.ac.uk"]]
$.hpvm17.apachelb.port|$.Integer|80|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm17.apachelb.version|$.String||-|notfinal
	[]
$.hpvm17.apachelb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.apachelb.server_name|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.domainname|$.String|hpvm17.diy.inf.ed.ac.uk|-|notfinal
	[hpvm17.diy.inf.ed.ac.uk]
$.hpvm17.tikiweb|$.Tikiweb|$.hpvm17.tikiweb|-|final
	[$.hpvm17.tikiweb]
$.hpvm17.tikiweb.webserver|$.Apache|null|-|notfinal
	[null,$.hpvm16.apache,$.hpvm17.apache,$.hpvm20.apache]
$.hpvm17.tikiweb.path|$.String|/wiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.tikiweb.database|$.Tikidb|null|-|notfinal
	[null,$.hpvm16.tikidb,$.hpvm17.tikidb,$.hpvm20.tikidb]
$.hpvm17.tikiweb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.nuri_latest|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.memory_total|$.Integer|503456|-|notfinal
	[503456]
$.hpvm17.version|$.String|3.2.0-25-generic|-|notfinal
	[3.2.0-25-generic]
$.hpvm17.mysql|$.Mysql|$.hpvm17.mysql|-|final
	[$.hpvm17.mysql]
$.hpvm17.mysql.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.mysql.public|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.mysql.root_password|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.mysql.port|$.Integer|3306|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm17.mysql.version|$.String||-|notfinal
	[]
$.hpvm17.mysql.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.memory_free|$.Integer|130868|-|notfinal
	[130868]
$.hpvm17.tikidb|$.Tikidb|$.hpvm17.tikidb|-|final
	[$.hpvm17.tikidb]
$.hpvm17.tikidb.db_user|$.String|tiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.tikidb.tikiweb|($.Tikiweb)|[]|-|notfinal
	[,[],["$.hpvm17.tikiweb"]]
$.hpvm17.tikidb.db_name|$.String|tikiwiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.tikidb.database|$.Mysql|null|-|notfinal
	[null,$.hpvm16.mysql,$.hpvm17.mysql,$.hpvm20.mysql]
$.hpvm17.tikidb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm17.tikidb.db_password|$.String|tikipassword|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm17.os|$.String|linux|-|notfinal
	[linux]
$.hpvm20|$.Machine|$.hpvm20|-|final
	[$.hpvm20]
$.hpvm20.tikiweb|$.Tikiweb|$.hpvm20.tikiweb|-|final
	[$.hpvm20.tikiweb]
$.hpvm20.tikiweb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.tikiweb.database|$.Tikidb|null|-|notfinal
	[null,$.hpvm16.tikidb,$.hpvm17.tikidb,$.hpvm20.tikidb]
$.hpvm20.tikiweb.webserver|$.Apache|null|-|notfinal
	[null,$.hpvm16.apache,$.hpvm17.apache,$.hpvm20.apache]
$.hpvm20.tikiweb.path|$.String|/wiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.apache|$.Apache|$.hpvm20.apache|-|final
	[$.hpvm20.apache]
$.hpvm20.apache.php_module|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.apache.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.apache.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.apache.version|$.String||-|notfinal
	[]
$.hpvm20.apache.docment_root|$.String||-|notfinal
	[]
$.hpvm20.apache.php_mysql_module|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.apache.server_name|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.apache.document_root|$.String|/var/www|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.apache.port|$.Integer|0|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm20.memory_free|$.Integer|66584|-|notfinal
	[66584]
$.hpvm20.arch|$.String|x86_64|-|notfinal
	[x86_64]
$.hpvm20.nuri_latest|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.running|$.Boolean|true|-|notfinal
	[true,false]
$.hpvm20.os|$.String|linux|-|notfinal
	[linux]
$.hpvm20.domainname|$.String|hpvm20.diy.inf.ed.ac.uk|-|notfinal
	[hpvm20.diy.inf.ed.ac.uk]
$.hpvm20.version|$.String|3.2.0-25-generic|-|notfinal
	[3.2.0-25-generic]
$.hpvm20.memory_total|$.Integer|503456|-|notfinal
	[503456]
$.hpvm20.hostname|$.String|hpvm20|-|notfinal
	[hpvm20]
$.hpvm20.platform|$.String|ubuntu|-|notfinal
	[ubuntu]
$.hpvm20.cpus|$.Integer|1|-|notfinal
	[1]
$.hpvm20.tikidb|$.Tikidb|$.hpvm20.tikidb|-|final
	[$.hpvm20.tikidb]
$.hpvm20.tikidb.tikiweb|($.Tikiweb)|[]|-|notfinal
	[,[],["$.hpvm17.tikiweb"]]
$.hpvm20.tikidb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.tikidb.database|$.Mysql|null|-|notfinal
	[null,$.hpvm16.mysql,$.hpvm17.mysql,$.hpvm20.mysql]
$.hpvm20.tikidb.db_password|$.String|tikipassword|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.tikidb.db_name|$.String|tikiwiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.tikidb.db_user|$.String|tiki|-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.apachelb|$.Apachelb|$.hpvm20.apachelb|-|final
	[$.hpvm20.apachelb]
$.hpvm20.apachelb.members|($.String)|[]|-|notfinal
	[,[],["http://hpvm17.diy.inf.ed.ac.uk"]]
$.hpvm20.apachelb.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.apachelb.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.apachelb.version|$.String||-|notfinal
	[]
$.hpvm20.apachelb.server_name|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.apachelb.port|$.Integer|80|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
$.hpvm20.mysql|$.Mysql|$.hpvm20.mysql|-|final
	[$.hpvm20.mysql]
$.hpvm20.mysql.installed|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.mysql.running|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.mysql.version|$.String||-|notfinal
	[]
$.hpvm20.mysql.public|$.Boolean|false|-|notfinal
	[true,false]
$.hpvm20.mysql.root_password|$.String||-|notfinal
	[linux,ubuntu,hpvm16,hpvm16.diy.inf.ed.ac.uk,3.2.0-25-generic,x86_64,/wiki,tikiwiki,tiki,tikipassword,,/var/www,hpvm17,hpvm17.diy.inf.ed.ac.uk,hpvm20.diy.inf.ed.ac.uk,hpvm20,root]
$.hpvm20.mysql.port|$.Integer|0|-|notfinal
	[503456,123188,1,80,0,3306,130868,66584]
--- types
$.Boolean: true false | 2
$.Integer: 503456 123188 1 80 0 3306 130868 66584 | 8
$.String: linux ubuntu hpvm16 hpvm16.diy.inf.ed.ac.uk 3.2.0-25-generic x86_64 /wiki tikiwiki tiki tikipassword  /var/www hpvm17 hpvm17.diy.inf.ed.ac.uk hpvm20.diy.inf.ed.ac.uk hpvm20 root | 17
$.Machine: null $.hpvm16 $.hpvm17 $.hpvm20 | 4
$.Tikiweb: null $.hpvm16.tikiweb $.hpvm17.tikiweb $.hpvm20.tikiweb | 4
$.Apache: null $.hpvm16.apache $.hpvm17.apache $.hpvm20.apache | 4
$.Tikidb: null $.hpvm16.tikidb $.hpvm17.tikidb $.hpvm20.tikidb | 4
($.Tikiweb):  [] ["$.hpvm17.tikiweb"] | 3
$.Mysql: null $.hpvm16.mysql $.hpvm17.mysql $.hpvm20.mysql | 4
$.Service: null $.hpvm16.apachelb $.hpvm16.apache $.hpvm16.mysql $.hpvm17.apache $.hpvm17.apachelb $.hpvm17.mysql $.hpvm20.apache $.hpvm20.apachelb $.hpvm20.mysql | 10
$.Apachelb: null $.hpvm16.apachelb $.hpvm17.apachelb $.hpvm20.apachelb | 4
($.String):  [] ["http://hpvm17.diy.inf.ed.ac.uk"] | 3
{
  "type": "sequential",
  "workflow": [
    {
      "name": "$.hpvm16.tikidb.set_tikiweb",
      "parameters": {
        "$.webs": [
          "$.hpvm17.tikiweb"
        ]
      },
      "condition": {
        "$.hpvm16.tikidb.installed": false
      },
      "effect": {
        "$.hpvm16.tikidb.tikiweb": [
          "$.hpvm17.tikiweb"
        ]
      }
    },
    {
      "name": "$.hpvm16.tikidb.set_account",
      "parameters": {
        "$.user": "tiki",
        "$.passwd": "tiki"
      },
      "condition": {
        "$.hpvm16.tikidb.installed": false
      },
      "effect": {
        "$.hpvm16.tikidb.db_user": "tiki",
        "$.hpvm16.tikidb.db_password": "tiki"
      }
    },
    {
      "name": "$.hpvm16.tikidb.set_database",
      "parameters": {
        "$.db": "$.hpvm16.mysql"
      },
      "condition": {
        "$.hpvm16.tikidb.installed": false
      },
      "effect": {
        "$.hpvm16.tikidb.database": "$.hpvm16.mysql"
      }
    },
    {
      "name": "$.hpvm17.tikiweb.set_webserver",
      "parameters": {
        "$.ws": "$.hpvm17.apache"
      },
      "condition": {
        "$.hpvm17.tikiweb.installed": false
      },
      "effect": {
        "$.hpvm17.tikiweb.webserver": "$.hpvm17.apache"
      }
    },
    {
      "name": "$.hpvm17.tikiweb.set_database",
      "parameters": {
        "$.db": "$.hpvm16.tikidb"
      },
      "condition": {
        "$.hpvm17.tikiweb.installed": false
      },
      "effect": {
        "$.hpvm17.tikiweb.database": "$.hpvm16.tikidb"
      }
    },
    {
      "name": "$.hpvm16.mysql.install",
      "parameters": {
      },
      "condition": {
      },
      "effect": {
        "$.hpvm16.mysql.installed": true
      }
    },
    {
      "name": "$.hpvm17.apache.install",
      "parameters": {
      },
      "condition": {
      },
      "effect": {
        "$.hpvm17.apache.installed": true
      }
    },
    {
      "name": "$.hpvm17.apache.set_port",
      "parameters": {
        "$.target": 80
      },
      "condition": {
        "$.hpvm17.apache.running": false,
        "$.hpvm17.apache.installed": true
      },
      "effect": {
        "$.hpvm17.apache.port": 80
      }
    },
    {
      "name": "$.hpvm17.apache.set_server_name",
      "parameters": {
        "$.target": "hpvm20.diy.inf.ed.ac.uk"
      },
      "condition": {
        "$.hpvm17.apache.running": false,
        "$.hpvm17.apache.installed": true
      },
      "effect": {
        "$.hpvm17.apache.server_name": "hpvm20.diy.inf.ed.ac.uk"
      }
    },
    {
      "name": "$.hpvm20.apachelb.install",
      "parameters": {
      },
      "condition": {
      },
      "effect": {
        "$.hpvm20.apachelb.installed": true
      }
    },
    {
      "name": "$.hpvm20.apachelb.set_members",
      "parameters": {
        "$.members": [
          "http://hpvm17.diy.inf.ed.ac.uk"
        ]
      },
      "condition": {
        "$.hpvm20.apachelb.installed": true,
        "$.hpvm20.apachelb.running": false
      },
      "effect": {
        "$.hpvm20.apachelb.members": [
          "http://hpvm17.diy.inf.ed.ac.uk"
        ]
      }
    },
    {
      "name": "$.hpvm20.apachelb.set_server_name",
      "parameters": {
        "$.name": "hpvm20.diy.inf.ed.ac.uk"
      },
      "condition": {
        "$.hpvm20.apachelb.installed": true,
        "$.hpvm20.apachelb.running": false
      },
      "effect": {
        "$.hpvm20.apachelb.server_name": "hpvm20.diy.inf.ed.ac.uk"
      }
    },
    {
      "name": "$.hpvm16.mysql.start",
      "parameters": {
      },
      "condition": {
        "$.hpvm16.mysql.installed": true
      },
      "effect": {
        "$.hpvm16.mysql.running": true
      }
    },
    {
      "name": "$.hpvm16.tikidb.install",
      "parameters": {
      },
      "condition": {
        "$.hpvm16.tikidb.database": "$.hpvm16.mysql",
        "$.hpvm16.mysql.running": true
      },
      "effect": {
        "$.hpvm16.tikidb.installed": true
      }
    },
    {
      "name": "$.hpvm16.mysql.set_root_password",
      "parameters": {
        "$.passwd": "root"
      },
      "condition": {
        "$.hpvm16.mysql.running": true
      },
      "effect": {
        "$.hpvm16.mysql.root_password": "root"
      }
    },
    {
      "name": "$.hpvm17.apache.install_php_module",
      "parameters": {
      },
      "condition": {
        "$.hpvm17.apache.running": false,
        "$.hpvm17.apache.installed": true
      },
      "effect": {
        "$.hpvm17.apache.php_module": true
      }
    },
    {
      "name": "$.hpvm17.apache.install_php_mysql_module",
      "parameters": {
      },
      "condition": {
        "$.hpvm17.apache.running": false,
        "$.hpvm17.apache.installed": true,
        "$.hpvm17.apache.php_module": true
      },
      "effect": {
        "$.hpvm17.apache.php_mysql_module": true
      }
    },
    {
      "name": "$.hpvm17.tikiweb.install",
      "parameters": {
      },
      "condition": {
        "$.hpvm17.tikiweb.webserver": "$.hpvm17.apache",
        "$.hpvm17.apache.php_module": true,
        "$.hpvm17.apache.php_mysql_module": true,
        "$.hpvm17.apache.installed": true,
        "$.hpvm17.tikiweb.database": "$.hpvm16.tikidb",
        "$.hpvm16.tikidb.installed": true,
        "$.hpvm17.apache.running": false
      },
      "effect": {
        "$.hpvm17.tikiweb.installed": true
      }
    },
    {
      "name": "$.hpvm17.apache.start",
      "parameters": {
      },
      "condition": {
        "$.hpvm17.apache.installed": true
      },
      "effect": {
        "$.hpvm17.apache.running": true
      }
    },
    {
      "name": "$.hpvm20.apachelb.start",
      "parameters": {
      },
      "condition": {
        "$.hpvm20.apachelb.installed": true
      },
      "effect": {
        "$.hpvm20.apachelb.running": true
      }
    }
  ],
  "version": "1",
  "total": 20
}
