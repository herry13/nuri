include "../modules/machine/machine.sfp"
include "../modules/bonfire/bonfire.sfp"
include "../modules/vm/vm.sfp"
include "../modules/apache/apache.sfp"
include "../modules/mysql/mysql.sfp"

master isa Machine {
	sfpAddress is "localhost"

	bonfireEPCC isa Bonfire {
		experiment is "autocloud"
		location is "uk-epcc"
		image_name is "BonFIRE Debian Squeeze 10G v5"
		wan_name is "BonFIRE WAN"
	}
	bonfireINRIA isa Bonfire {
		experiment is "autocloud"
		location is "fr-inria"
		image_name is "BonFIRE Debian Squeeze 10G v5"
		wan_name is "BonFIRE WAN"
	}
	bonfireHPLABS isa Bonfire {
		experiment is "autocloud"
		location is "uk-hplabs"
		image_name is "BonFIRE Debian Squeeze 10G v5"
		wan_name is "BonFIRE WAN"
	}
}

vm1 isa VM {
	created = true
	apache isa Apache {
		running is true
		is_load_balancer is true
	}
	in_cloud is master.bonfireEPCC
}

vm2 isa VM {
	created = true
	apache isa Apache {
		running is true
	}
	in_cloud is master.bonfireEPCC
}
vm3 extends vm2

vm4 extends vm2

vm5 extends vm2

vm6 extends vm2

/*vm7 isa VM {
	created = false
}*/
