include "cloud-type.sfp"

initial state {
	pm1 isa PM {
		running = true
		has_vm = vm1
	}
	pm2 isa PM {
		running = true
		has_vm = vm2
	}
	vm1 isa VM {
		pm = pm1
		has_service = web1
		running = true
	}
	vm2 isa VM {
		pm = pm2
		has_service = web2
		running = false
	}
	web1 isa Service {
		vm = vm1
		running = true
	}
	web2 isa Service {
		vm = vm2
		running = false
	}	

	pc1 isa Client {
		refer = web1
	}
	pc2 isa Client {
		refer = web1
	}
}
goal constraint {
	pm1.running = false
}
global constraint {
	pc1.refer.running isnt false
	pc2.refer.running isnt false
}
